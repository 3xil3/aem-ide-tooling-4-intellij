<idea-plugin version="2">
    <id>com.headwire.aem.tooling.intellij</id>
    <name>Headwire AEM Tooling Plugin</name>
    <version>1.0</version>
    <vendor email="support@headwire.com" url="http://www.headwire.com">Headwire Inc.</vendor>

    <description><![CDATA[
      This ItelliJ IDEA Plugin is to manage a project deployed on Adobe AEM through the IDE.
    ]]></description>

    <change-notes><![CDATA[
      Initial Version
    ]]>
    </change-notes>

    <!-- please see http://confluence.jetbrains.com/display/IDEADEV/Build+Number+Ranges for description -->
    <idea-version since-build="131"/>

    <!-- please see http://confluence.jetbrains.com/display/IDEADEV/Plugin+Compatibility+with+IntelliJ+Platform+Products
         on how to target different products -->
    <!-- uncomment to enable plugin in all products
    <depends>com.intellij.modules.lang</depends>
    -->
    <!-- This Dependency is necessary to be able to access the IntelliJ Maven Classes from within this plugin -->
    <!-- For development make sure the plugin is added to the IntelliJ SDK and not as a library -->
    <depends>org.jetbrains.idea.maven</depends>

    <extensions defaultExtensionNs="com.intellij">
        <toolWindow id="AEM" anchor="right" icon="/images/aem.gif"
                    factoryClass="com.headwire.aem.tooling.intellij.ServersToolWindowFactory"/>
        <toolWindow id="AEM Console" anchor="bottom" secondary="true"
                    icon="AllIcons.Ide.NoNotifications13"
                    factoryClass="com.headwire.aem.tooling.intellij.console.ConsoleLogToolWindowFactory"/>
    </extensions>

    <application-components>
        <!-- Add your application components here -->
        <!-- AS NOTE: Any Wrapper class (ending in Wrapper) are classes that mimic the OSGi binding of other services -->
        <component>
            <implementation-class>com.headwire.aem.tooling.intellij.config.general.AEMPluginConfiguration</implementation-class>
        </component>
        <component>
            <implementation-class>com.headwire.aem.tooling.intellij.console.ConsoleLog</implementation-class>
        </component>
        <component>
            <interface-class>org.osgi.service.event.EventAdmin</interface-class>
            <implementation-class>com.headwire.aem.tooling.intellij.eclipse.wrapper.EventAdminWrapper</implementation-class>
        </component>
        <component>
            <interface-class>org.apache.sling.ide.transport.RepositoryFactory</interface-class>
            <implementation-class>com.headwire.aem.tooling.intellij.eclipse.wrapper.VltRepositoryFactoryWrapper</implementation-class>
        </component>
        <component>
            <interface-class>org.apache.sling.ide.osgi.OsgiClientFactory</interface-class>
            <implementation-class>com.headwire.aem.tooling.intellij.eclipse.wrapper.OsgiClientFactoryWrapper</implementation-class>
        </component>
        <component>
            <interface-class>org.apache.sling.ide.serialization.SerializationManager</interface-class>
            <implementation-class>com.headwire.aem.tooling.intellij.eclipse.wrapper.SerializationManagerWrapper</implementation-class>
        </component>
        <component>
            <interface-class>org.apache.sling.ide.artifacts.EmbeddedArtifactLocator</interface-class>
            <implementation-class>com.headwire.aem.tooling.intellij.util.ArtifactsLocatorImpl</implementation-class>
        </component>
        <component>
            <interface-class>org.apache.sling.ide.filter.FilterLocator</interface-class>
            <implementation-class>com.headwire.aem.tooling.intellij.eclipse.wrapper.VltFilterLocatorWrapper</implementation-class>
        </component>
        <component>
            <interface-class>org.apache.sling.ide.impl.vlt.VaultFsLocator</interface-class>
            <implementation-class>org.apache.sling.ide.impl.vlt.VaultFsLocatorImpl</implementation-class>
        </component>
        <component>
            <interface-class>org.apache.sling.ide.log.Logger</interface-class>
            <implementation-class>com.headwire.aem.tooling.intellij.eclipse.wrapper.PluginLoggerWrapper</implementation-class>
        </component>
    </application-components>

    <project-components>
        <component>
            <implementation-class>com.headwire.aem.tooling.intellij.communication.MessageManager</implementation-class>
        </component>
        <component>
            <implementation-class>com.headwire.aem.tooling.intellij.explorer.ServerTreeSelectionHandler</implementation-class>
        </component>
        <component>
            <implementation-class>com.headwire.aem.tooling.intellij.explorer.ServerTreeManager</implementation-class>
        </component>
        <component>
            <implementation-class>com.headwire.aem.tooling.intellij.config.ServerConfigurationManager</implementation-class>
        </component>
        <component>
            <implementation-class>com.headwire.aem.tooling.intellij.communication.ServerConnectionManager</implementation-class>
        </component>
        <component>
            <implementation-class>com.headwire.aem.tooling.intellij.console.ConsoleLog$ProjectTracker</implementation-class>
        </component>
    </project-components>

    <actions>
        <!-- Add your actions here -->
        <action id="AEM.Add.Action"
                class="com.headwire.aem.tooling.intellij.action.AddServerConfigurationAction"
                text="Add a New Configuration"
                description="Create a New Server Configuration"
                icon="AllIcons.General.Add"
                />
        <action id="AEM.Edit.Action"
                class="com.headwire.aem.tooling.intellij.action.EditServerConfigurationAction"
                text="Edit Current Configuration"
                description="Edit the Currently Selected Server Configuration"
                icon="AllIcons.Actions.EditSource"/>
        <action id="AEM.Remove.Action"
                class="com.headwire.aem.tooling.intellij.action.RemoveServerConfigurationAction"
                text="Remove Selected Configuration"
                description="Remove Selected Server Connection Configuration"
                icon="AllIcons.General.Remove"/>
        <action id="AEM.Check.Action"
                class="com.headwire.aem.tooling.intellij.action.CheckServerConnectionAction"
                text="Check Current Connection"
                description="Check the Currently Selected Server Configuration"
                icon="AllIcons.CodeStyle.Gear"
                />
        <action id="AEM.Start.Debug.Action"
                class="com.headwire.aem.tooling.intellij.action.StartDebugConnectionAction"
                text="Connect with Selected Server In Debug Mode"
                description="Create a Connection with the Selected Server in Debug Mode"
                icon="AllIcons.General.Debug"/>
        <action id="AEM.Stop.Connection.Action"
                class="com.headwire.aem.tooling.intellij.action.StartDebugConnectionAction"
                text="End the Currently Established Connection"
                description="End the Currently Established Connection with the Server"
                icon="AllIcons.Process.Stop"/>
        <action id="AEM.Deploy.Action"
                class="com.headwire.aem.tooling.intellij.action.DeployToServerAction"
                text="Deploy to the Current Server Connection"
                description="Deploy to the Current Connection with the"
                icon="AllIcons.Actions.Export"/>
        <action id="AEM.Force.Deploy.Action"
                class="com.headwire.aem.tooling.intellij.action.ForceDeployToServerAction"
                text="Forced Deploy to the Current Server Connection"
                description="Forced Deployment to the Current Server Connection"
                icon="AllIcons.Actions.ForceRefresh"/>
        <action id="AEM.Import.From.Server.Action"
                class="com.headwire.aem.tooling.intellij.action.ImportFromServerAction"
                text="Import from"
                description="Import from current Server Connection"
                icon="AllIcons.ToolbarDecorator.Import"/>

        <group id="AEM.Toolbar">
            <reference id="AEM.Add.Action"/>
            <reference id="AEM.Remove.Action"/>
            <reference id="AEM.Edit.Action"/>
            <separator/>
            <reference id="AEM.Check.Action"/>
            <reference id="AEM.Start.Debug.Action"/>
            <reference id="AEM.Stop.Connection.Action"/>
            <reference id="AEM.Deploy.Action"/>
            <reference id="AEM.Force.Deploy.Action"/>
            <!--<reference id="Maven.UpdateFolders"/>-->

            <!--<group id="Maven.DownloadAllGroupPopup" popup="true" class="org.jetbrains.idea.maven.project.actions.DownloadActionGroup"-->
                   <!--icon="AllIcons.Actions.Download">-->
                <!--<reference id="Maven.DownloadAllGroup"/>-->
            <!--</group>-->
            <!--<separator/>-->
            <!--<reference id="Maven.AddManagedFiles"/>-->
            <!--<separator/>-->
            <!--<reference id="Maven.RunBuild"/>-->
            <!--<reference id="Maven.ExecuteGoal"/>-->
            <!--<reference id="Maven.ToggleOffline"/>-->
            <!--<reference id="Maven.ToggleSkipTests"/>-->
            <!--<reference id="Maven.CollapseAll"/>-->
            <!--<separator/>-->
            <!--<reference id="Maven.ShowSettings"/>-->
        </group>
        <group id="AEM.Connection.Popup">
            <reference id="AEM.Add.Action"/>
            <reference id="AEM.Remove.Action"/>
            <reference id="AEM.Edit.Action"/>
            <separator/>
            <reference id="AEM.Check.Action"/>
            <reference id="AEM.Start.Debug.Action"/>
            <reference id="AEM.Stop.Connection.Action"/>
            <separator/>
            <reference id="AEM.Deploy.Action"/>
            <reference id="AEM.Force.Deploy.Action"/>
        </group>
        <group id="AEM.Root.Popup">
            <reference id="AEM.Add.Action"/>
        </group>
        <!-- Context Menu Popup -->
        <group id="AEM.Context.Menu.Popup"
               class="com.headwire.aem.tooling.intellij.action.AEMActionGroup"
               text="AEM"
               popup="true"
               icon="/images/aem.gif"
        >
            <add-to-group group-id="EditorPopupMenu" anchor="last"/>
            <add-to-group group-id="ProjectViewPopupMenu" anchor="last"/>
            <add-to-group group-id="CodeMenu" anchor="last"/>
            <reference ref="AEM.Import.From.Server.Action"/>
        </group>
    </actions>

</idea-plugin>